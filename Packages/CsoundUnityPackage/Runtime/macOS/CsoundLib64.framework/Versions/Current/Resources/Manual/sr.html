<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>sr</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="The Canonical Csound Reference Manual" />
    <link rel="up" href="OpcodesTop.html" title="Orchestra Opcodes and Operators" />
    <link rel="prev" href="squinewave.html" title="squinewave" />
    <link rel="next" href="statevar.html" title="statevar" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">sr</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="squinewave.html">Prev</a> </td>
          <th width="60%" align="center">Orchestra Opcodes and Operators</th>
          <td width="20%" align="right"> <a accesskey="n" href="statevar.html">Next</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="sr"></a>
      <div class="titlepage"></div>
      <a id="IndexSr" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">sr</span>
        </h2>
        <p>sr — 
      Sets the audio sampling rate.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm276053149552"></a>
        <h2>Description</h2>
        <p>
      These statements are global value <a class="link" href="assign.html" title="="><em class="citetitle">assignments</em></a>, made
      at the beginning of an orchestra, before any instrument block is
      defined. Their function is to set certain <a class="link" href="OrchKvar.html#VariableTypes" title="Table 3. Types of Variables"><em class="citetitle">reserved symbol
      variables</em></a> that are required for
      performance. Once set, these reserved symbols can be used in
      expressions anywhere in the orchestra. 
    </p>
      </div>
      <div class="refsect1">
        <a id="idm276053146320"></a>
        <h2>Syntax</h2>
        <pre class="synopsis"><span class="command"><strong>sr</strong></span> = iarg</pre>
      </div>
      <div class="refsect1">
        <a id="idm276053144416"></a>
        <h2>Initialization</h2>
        <p>
      <span class="emphasis"><em>sr</em></span>  = (optional) -- set sampling rate to <span class="emphasis"><em>iarg</em></span> samples per second per channel. The default value is 44100.
    </p>
        <p>
      In addition, any <a class="link" href="OrchKvar.html#GlobalVariables"><em class="citetitle">global variable</em></a> can be initialized by an <span class="emphasis"><em>init-time assignment</em></span> anywhere before the first <a class="link" href="instr.html" title="instr"><em class="citetitle">instr statement</em></a>.  All of the above assignments are run as instrument 0 (i-pass only) at the start of real performance.
    </p>
        <p>
      Beginning with Csound version 3.46, <span class="emphasis"><em>sr</em></span> may be omitted. The sample rate will be calculated from <a class="link" href="kr.html" title="kr"><em class="citetitle">kr</em></a> and <a class="link" href="ksmps.html" title="ksmps"><em class="citetitle">ksmps</em></a>, but this must evaluate to an integer. If none of these global values is defined, the sample rate will default to 44100. You will usually want to use a value that your soundcard supports, like 44100 or 48000, otherwise, the audio generated by csound may be unplayable, or you will get an error if you attempt to run in real-time. You may naturally use a sample rate like 96000, for off-line rendering even if your soundcard doesn't support it. Csound will generate a valid file that can be played on capable systems.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm276053136480"></a>
        <h2>Examples</h2>
        <p>
      </p>
        <div class="informalexample">
          <pre class="programlisting">
<span class="ohdr">sr</span> <span class="op">=</span> 10000
<span class="ohdr">kr</span> <span class="op">=</span> 500
<span class="ohdr">ksmps</span> <span class="op">=</span> 20
gi1 <span class="op">=</span> <span class="ohdr">sr</span><span class="op">/</span>2.
ga <span class="opc">init</span> 0
itranspose <span class="op">=</span> <span class="opc">octpch</span>(.0l)</pre>
        </div>
        <p>
    </p>
        <p>
      Here is another example of the sr opcode. It uses the file <a class="ulink" href="examples/sr.csd" target="_top"><em class="citetitle">sr.csd</em></a>.
      </p>
        <div class="example">
          <a id="idm276053125936"></a>
          <p class="title">
            <strong>Example 939. Example of the sr opcode.</strong>
          </p>
          <div class="example-contents">
            <p>See the sections <a class="link" href="UsingRealTime.html" title="Real-Time Audio"><em class="citetitle">Real-time Audio</em></a> and <a class="link" href="CommandFlags.html" title="Csound command line"><em class="citetitle">Command Line Flags</em></a> for more information on using command line flags.</p>
            <div class="refsect1">
              <a id="idm276420026672"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
-odac  <span class="c1">;;;realtime audio out</span>
<span class="c1">; -iadc    ;;;uncomment -iadc if real audio input is needed too</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o sr.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="vg">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">32</span>
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">2</span>
<span class="vg">0dbfs</span>  <span class="o">=</span> <span class="mi">1</span>

<span class="kd">instr</span> <span class="nf">1</span>	<span class="c1">;use sr to find maximum harmonics</span>

i<span class="n">har</span>	<span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="vg">sr</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nb">p4</span><span class="p">)</span>		<span class="c1">; maximum possible number of harmonics w/o aliasing</span>
<span class="nb">prints</span>  <span class="s">"maximum number of harmonics = </span><span class="si">%d</span><span class="s"> </span><span class="se">\\</span><span class="s">n"</span><span class="p">,</span> i<span class="n">har</span>
k<span class="n">env</span>	<span class="nb">linen</span> <span class="mf">.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">p3</span><span class="p">,</span> <span class="mf">.2</span>	<span class="c1">; envelope</span>
a<span class="n">sig</span>	<span class="nb">buzz</span>  k<span class="n">env</span><span class="p">,</span> <span class="nb">p4</span><span class="p">,</span> i<span class="n">har</span><span class="p">,</span> <span class="mi">1</span>
	<span class="nb">outs</span>  a<span class="n">sig</span><span class="p">,</span> a<span class="n">sig</span>

<span class="kd">endin</span>
<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
<span class="nb">f</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">4096</span> <span class="mi">10</span> <span class="mi">1</span>	<span class="c1">;sine wave</span>

<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">3</span> <span class="mi">100</span>	<span class="c1">;different frequencies</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">3</span> <span class="mi">1000</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">3</span> <span class="mi">10000</span>
<span class="nb">e</span>
<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
            Its output should include lines like this:
      </p>
        <pre class="screen">
maximum number of harmonics = 240 
maximum number of harmonics = 24 
maximum number of harmonics = 2 
      </pre>
        <p>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm276053121152"></a>
        <h2>See Also</h2>
        <p>
      <a class="link" href="kr.html" title="kr"><em class="citetitle">kr</em></a>,
      <a class="link" href="ksmps.html" title="ksmps"><em class="citetitle">ksmps</em></a>,
      <a class="link" href="nchnls.html" title="nchnls"><em class="citetitle">nchnls</em></a>,
      <a class="link" href="nchnls_i.html" title="nchnls_i"><em class="citetitle">nchnls_i</em></a>.
    </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="squinewave.html">Prev</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Up</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="statevar.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">squinewave </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> statevar</td>
        </tr>
      </table>
    </div>
  </body>
</html>
